(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{16:function(e,t,a){e.exports={imageGalleryItem:"ImageGallery_imageGalleryItem__11Wyu",imageGallery:"ImageGallery_imageGallery__2Su2F"}},17:function(e,t,a){e.exports={overlay:"Modal_overlay__1diO_",modal:"Modal_modal__gG3BE"}},27:function(e,t,a){e.exports={imageGalleryItem__image:"ImageGalleryItem_imageGalleryItem__image__18ev8",imageGalleryItem:"ImageGalleryItem_imageGalleryItem__3dJfW"}},29:function(e,t,a){e.exports={LoaderContainer:"Loader_LoaderContainer__C9LM5"}},30:function(e,t,a){e.exports={Button:"Button_Button__3Nbwi"}},35:function(e,t,a){},7:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1BYme",SearchForm:"Searchbar_SearchForm__2cLzK",SearchForm__button:"Searchbar_SearchForm__button__29GY2",SearchForm__buttonLabel:"Searchbar_SearchForm__buttonLabel__1DYgo",SearchForm__input:"Searchbar_SearchForm__input__26ZKE"}},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(5),o=a.n(c),s=(a(35),a(6)),i=a.n(s),l=a(18),u=a(13),m=a(4),b=a(9),j=(a(37),a(15)),d=a.n(j),h="23063121-c7c43e31505ed95884d92e826";function p(e){return g.apply(this,arguments)}function g(){return g=Object(u.a)(i.a.mark((function e(t){var a,r,n,c=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:1,e.next=3,d.a.get("&q=".concat(t,"&page=").concat(a,"&per_page=12&key=").concat(h));case 3:return r=e.sent,n=r.data.hits,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}d.a.defaults.baseURL="https://pixabay.com/api/?image_type=photo&orientation=horizontal";var _=a(7),O=a.n(_),f=a(1);function x(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(m.a)(a,2),c=n[0],o=n[1];return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("header",{className:O.a.Searchbar,children:Object(f.jsxs)("form",{className:O.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?"error"!==c?(t(c),o("")):b.b.error("No match...",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):b.b.error("Search images and photos",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},children:[Object(f.jsx)("button",{type:"submit",className:O.a.SearchForm__button,children:Object(f.jsx)("span",{className:O.a.SearchForm__buttonLabel,children:"Search"})}),Object(f.jsx)("input",{className:O.a.SearchForm__input,type:"text",autoComplete:"off",value:c,onChange:function(e){o(e.currentTarget.value.toLowerCase())},autoFocus:!0,placeholder:"Search images and photos"})]})})})}var v=a(27),S=a.n(v),y=function(e){var t=e.image,a=e.openModal;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("img",{onClick:function(){a(t)},src:t.webformatURL,alt:t.tag,className:S.a.imageGalleryItem__image})})},C=a(16),F=a.n(C);var w=function(e){var t=e.images,a=void 0===t?[]:t,r=e.onOpenModal;return Object(f.jsx)("ul",{className:F.a.imageGallery,children:a.map((function(e){return Object(f.jsx)("li",{className:F.a.imageGalleryItem,children:Object(f.jsx)(y,{image:e,openModal:r})},e.id)}))})},k=(a(57),a(28)),G=a.n(k),I=a(29),L=a.n(I),N=function(){return Object(f.jsx)("div",{className:L.a.LoaderContainer,children:Object(f.jsx)(G.a,{type:"Hearts",color:"#00BFFF",height:80,width:80,timeout:300})})},B=a(30),M=a.n(B),E=function(e){var t=e.onClick;return Object(f.jsx)("div",{children:Object(f.jsx)("button",{type:"button",onClick:t,className:M.a.Button,children:"Load More..."})})},H=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},P=a(17),T=a.n(P),J=document.querySelector("#modal-root");function R(e){var t=e.onClose,a=e.children;Object(r.useEffect)((function(){window.addEventListener("keydown",(function(e){"Escape"===e.code&&t()}))}),[t]);return Object(c.createPortal)(Object(f.jsx)("div",{className:T.a.overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(f.jsx)("div",{className:T.a.modal,children:a})}),J)}var U=a.p+"static/media/man.cc751b0c.jpg",Y=function(){return Object(f.jsxs)("div",{role:"alert",children:[Object(f.jsx)("img",{src:U,width:"400",alt:"lonely-man"}),Object(f.jsx)("p",{children:"No match..."})]})};a(78);function q(){var e=Object(r.useState)(1),t=Object(m.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)([]),o=Object(m.a)(c,2),s=o[0],j=o[1],d=Object(r.useState)(""),h=Object(m.a)(d,2),g=h[0],_=h[1],O=Object(r.useState)(!1),v=Object(m.a)(O,2),S=v[0],y=v[1],C=Object(r.useState)(!1),F=Object(m.a)(C,2),k=F[0],G=F[1],I=Object(r.useState)({}),L=Object(m.a)(I,2),B=L[0],M=L[1];Object(r.useEffect)((function(){if(g){var e=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,p(g,a);case 4:t=e.sent,j((function(e){return[].concat(Object(l.a)(e),Object(l.a)(t))})),1!==a&&H(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:return e.prev=12,y(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}();e()}}),[g,a]);var P=function(){G(!k)};return Object(f.jsxs)("div",{children:[Object(f.jsx)(x,{onSubmit:function(e){_(e),n(1),j([])}}),S&&Object(f.jsx)(N,{}),0!==s.length?Object(f.jsx)(w,{images:s,onOpenModal:function(e){M(e),P()}}):""!==g&&Object(f.jsx)(Y,{}),S&&!k&&Object(f.jsx)(N,{}),k&&Object(f.jsxs)(R,{onClose:P,children:[Object(f.jsx)("img",{src:B.largeImageURL,alt:B.tag,id:B.id}),Object(f.jsx)("button",{type:"button",onClick:P,children:"Close"})]}),!S&&s[0]&&Object(f.jsx)(E,{onClick:function(){y(!0),n((function(e){return e+1})),y(!1)}}),Object(f.jsx)(b.a,{autoClose:3e3,position:"top-center",hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}o.a.render(Object(f.jsx)(n.a.StrictMode,{children:Object(f.jsx)(q,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.83f7ec46.chunk.js.map